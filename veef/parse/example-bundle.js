const e=(e,t)=>{customElements.define(e,class extends HTMLElement{constructor(){super(),this._root=this.attachShadow({mode:"open",delegatesFocus:!0})}connectedCallback(){let e=()=>{n._i=0;let e=t(n);o(a,e,this._root),a=e},n={_i:0,_data:{},useState:t=>{let r=++n._i;const a=t=>{n._data[r]=t,e()};return r in n._data?[n._data[r],a]:(n._data[r]=t,[t,a])}},a=t(n);this._root.append(r(a))}disconnectedCallback(){}attributeChangedCallback(e,t,n){}})};let t=[];const n=(e,n)=>{if("function"==typeof e.value&&a(e)){let r=e.name.toLowerCase().substr(2);return t.filter((e=>e.name==r&&e.el==n)).map((e=>n.removeEventListener(r,e.fn))),t.push({name:r,el:n,fn:e.value}),n.addEventListener(r,e.value),!0}return!1},r=e=>{if(e.charAt)return document.createTextNode(e);let t=e.name;"root"==t&&(t="div");let a=document.createElement(t);return e.props.map((e=>{n(e,a)||(a[e.name]=e.value)})),a.append(...e.children.map((e=>r(e)))),a},a=e=>"on"==e.name.substr(0,2),l=(e,t,o,i)=>{if(d(t))o&&o.remove();else{if(!d(e))return t.el&&e.el?void(e.name==t.name?(t.props.filter((e=>!a(e)&&e.value!=t.props[e.key])).map((e=>o[e.key]=e.value)),t.props.map((e=>n(e,o))),t.children.map(((t,n)=>l(e.children[n],t,o.childNodes[n],o))),e.children.map(((e,n)=>l(e,t.children[n],o.childNodes[n],o)))):o.replaceWith(r(t))):e!==t?void o.replaceWith(r(t)):void 0;t&&i.append(r(t))}},o=(e,t,n)=>l(e,t,n.children[0]),i=e=>({name:e,props:[],children:[""],x:0,el:1}),s=(e,...t)=>{const n=99;let r=i("root"),a=r,l=[r],o=null,s=2,d=e=>r.children.push(e),c=e=>{r.x=d(e),d("")},p=e=>r.props[0].value+=o;const u=e=>e.map((e=>e.el?e:(e=>{if(""===e)return"";let t=e.trim(),n="",r="";return e[0]!==t[0]&&(n=" "),e.substr(-1)!==t.substr(-1)&&(r=" "),""==t&&n==r?n:n+t+r})(e))).filter((e=>""!==e));let h={0:{">":2," ":1,"/":4,[n]:()=>{r.name+=o}},1:{">":2," ":1,"/":4,[n]:()=>{r.props.unshift({name:o,value:""}),s=6}},6:{"=":7,[n]:()=>{r.props[0].name+=o}},7:{'"':8,"'":9,[n]:p},8:{'"':1,[n]:p},9:{"'":1,[n]:p},2:{[n]:()=>{if("<"==o)return r.children=u(r.children),void(s=3);r.children[r.x]+=o}},3:{"/":4,[n]:()=>{const e=i(o);l.push(r),c(e),r=e,s=0}},4:{[n]:()=>{">"==o&&(r=l.pop(),s=2)}}},m=0;for(var f=0;;f++){if(f>=e[m].length){if(m>=t.length)break;const n=t[m];if(6!=s&&7!=s||(r.props[0].value=n,s=1),2==s&&c(n.toString()),f=0,m++,m>=e.length)break}o=e[m][f];let n=h[s];o in n?s=n[o]:n[99]()}return a.children=u(a.children),a};s.ref=e=>e;const d=e=>void 0===e;export{o as diff,s as h,e as newElement,r as render};
//# sourceMappingURL=example-bundle.js.map
