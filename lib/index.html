<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>veef WebModule lib</title>
<body>

<!--
    veef.mjs: authored by Filip Dimitrovski
    2021, All rights reserved -->

<script type="module">
import { h, createElement } from './veef.mjs';

const MyCounter = (state) => {
	state.addStyle(`
    p       
            { box-shadow: 0 2px 10px rgb(0 0 0 / 0.3);
              font-family: sans-serif; font-size: 2em;
	          transition: all 0.5s ease; padding: 10px;
              margin: 20px; border-radius: 5px;
	          text-align: center; max-width: 400px;         }
	.odd    { background: #444; color: #fff;                }
    button  { transform: scale(1.25) translateY(-15%);      }
	.number { padding: 0 10px; } .slot { font-size: 0.45em; }
	`)

    let values = state.init({ counter: 0 })
    const minusClick = (e) => { values.counter--; }
	const plusClick  = (e) => { values.counter++; }

	return h`
    <p class=${{odd: values.counter % 2}}>
		<button onClick=${minusClick}> - </button>
		<span class="number">${values.counter}</span>
		<button onClick=${plusClick}> + </button>
		<div class="slot">${state.slot('', values)}</div>
	</p>
	`;
}

createElement('my-counter', MyCounter)
createElement('my-ctx', (state, ctx) => {
    const v = state.init({c: 0})
    state.addStyle(`div{ color: #BFC2C8;
    border-radius: 5px;
    margin: 1em 0; background: #40444B;
    border: 1px solid #2D3035; padding:1em}`)
    return h`This is a ${'<my-ctx>'} and I received <br/> 
    the following context from parent: <pre> ${JSON.stringify(ctx) || ''}</pre>`
});
</script>

<my-counter>first counter</my-counter>
<my-counter>second counter</my-counter>
<my-counter>
    <my-ctx></my-ctx>
</my-counter>

</body>
